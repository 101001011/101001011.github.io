<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>「新的思考」整除性校验的本质 | CCA&#39;s   Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="description" content="本文从常见的模 $3$ 余 $0$, 模 $7$ 余 $0$ 的条件中抽象出了其数论本质.">
  
  
  
    <link rel="shortcut icon" href="../../../../favicon.ico">
  
  <link rel="stylesheet" href="../../../../css/style.css">
  
    <link rel="stylesheet" href="../../../../fancybox/jquery.fancybox-1.3.4.css">
  
<meta name="generator" content="Hexo 6.1.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <div id="nav-outer">
  <nav id="main-nav" class="outer">
    <a id="main-nav-toggle" class="nav-icon"></a>
    
      <a class="main-nav-link" href="../../../../index.html">Home</a>
    
      <a class="main-nav-link" href="../../../../archives">Archives</a>
    
    <div class="main-nav-space-between"></div>
    
  </nav>
</div>
<div id="header-title">
  <h1 id="logo-wrap">
    <a href="../../../../index.html" id="logo">CCA&#39;s   Blog</a>
  </h1>
  
    <h2 id="subtitle-wrap">
      <a href="../../../../index.html" id="subtitle">智慧.   优雅.   理性.</a>
    </h2>
  
</div>

      <div id="content" class="outer">
        <section id="main"><article id="post-[新的思考] 整除性检验的本质" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="" class="article-date">
  <time class="dt-published" datetime="2024-04-09T08:43:16.644Z" itemprop="datePublished">2024-04-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      「新的思考」整除性校验的本质
    </h1>
  

      </header>
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>本文从常见的模 <span class="markdown-them-math-inline">$3$</span> 余 <span class="markdown-them-math-inline">$0$</span>, 模 <span class="markdown-them-math-inline">$7$</span> 余 <span class="markdown-them-math-inline">$0$</span> 的条件中抽象出了其数论本质.</p>
<span id="more"></span>
<p>从小学开始我们就知道, 一个数能被 <span class="markdown-them-math-inline">$3$</span> 整除当且仅当其各位数字之和能被 <span class="markdown-them-math-inline">$3$</span> 整除. 一个数能被 <span class="markdown-them-math-inline">$4$</span> 整除, 当且仅当其最后 <span class="markdown-them-math-inline">$2$</span> 位数能被 <span class="markdown-them-math-inline">$4$</span> 整除. 一个数能被 <span class="markdown-them-math-inline">$11$</span> 整除, 当且仅当其奇数位减去偶数位数字之和能被 <span class="markdown-them-math-inline">$11$</span> 整除(个位数记为第 <span class="markdown-them-math-inline">$1$</span> 位).</p>
<p>长大一点后, 我们可以用数学语言来刻画这个规律 :</p>
<div class="markdown-them-math-block">$$\begin{cases}
\overline{a_ta_{t - 1}\cdots a_2a_1} \equiv a_1 + a_2 + \cdots + a_t \pmod 3 \\
\overline{a_ta_{t - 1}\cdots a_2a_1} \equiv \overline{a_2a_2} \pmod 4 \\
\overline{a_ta_{t - 1}\cdots a_2a_1} \equiv a_1 - a_2 + a_3 - \cdots + (-1)^{t - 1} a_t \pmod {11} \\
\overline{a_ta_{t - 1}\cdots a_2a_1} \equiv \overline{a_3a_2a_1} - \overline{a_6a_5a_4} + \cdots + (-1)^{\frac{t}{3} - 1} \overline{a_ta_{t - 1}a_{t - 2}} \pmod 7
\end{cases}
$$</div><p>容易发现, 其分为 <span class="markdown-them-math-inline">$3$</span> 类 :</p>
<ul>
<li>第一类: <span class="markdown-them-math-inline">$x$</span> 与 <span class="markdown-them-math-inline">$x$</span> 的末 <span class="markdown-them-math-inline">$k$</span> 位在模 <span class="markdown-them-math-inline">$n$</span> 意义下同余.</li>
<li>第二类: <span class="markdown-them-math-inline">$x$</span> 与 <span class="markdown-them-math-inline">$x$</span> 每 <span class="markdown-them-math-inline">$k$</span> 位一段求和得到的数在模 <span class="markdown-them-math-inline">$n$</span> 意义下同余.</li>
<li>第三类: <span class="markdown-them-math-inline">$x$</span> 与 <span class="markdown-them-math-inline">$x$</span> 每 <span class="markdown-them-math-inline">$k$</span> 位一段正负交替求和得到的数在模 <span class="markdown-them-math-inline">$n$</span> 意义下同余.</li>
</ul>
<p>现在我们来探寻 <span class="markdown-them-math-inline">$b$</span> 进制数在模 <span class="markdown-them-math-inline">$n$</span> 意义下可以使用哪种同余化简方式(或不满足三类中任意一种).</p>
<ol>
<li>若存在 <span class="markdown-them-math-inline">$k$</span> 满足 <span class="markdown-them-math-inline">$b ^ k \equiv 0 \pmod n$</span>, 那么 <span class="markdown-them-math-inline">$\overline{a_ta_{t - 1}\cdots a_{k + 1}00 \cdots 0} \equiv 0 \pmod n$</span>, 则 <span class="markdown-them-math-inline">$\overline{a_ta_{t - 1}\cdots a_2a_1} \equiv \overline{a_ka_{k - 1}\cdots a_2a_1} \pmod n$</span>, 可以使用第一类化简方式.</li>
<li>若存在 <span class="markdown-them-math-inline">$k$</span> 满足 <span class="markdown-them-math-inline">$b ^ k \equiv 1 \pmod n$</span>, 那么 <span class="markdown-them-math-inline">$\overline{a_ta_{t - 1}\cdots a_{k + 1}00 \cdots 0} \equiv \overline{a_ta_{t - 1}\cdots a_{k + 1}} \pmod n$</span>, 则 <span class="markdown-them-math-inline">$\overline{a_ta_{t - 1}\cdots a_2a_1} \equiv \overline{a_ka_{k - 1}\cdots a_1} + \overline{a_{2k}a_{2k - 1}\cdots a_{k + 1}} + \cdots \pmod n$</span>, 可以使用第二类化简方式.</li>
<li>若存在 <span class="markdown-them-math-inline">$k$</span> 满足 <span class="markdown-them-math-inline">$b ^ k \equiv -1 \pmod n$</span>, 那么 <span class="markdown-them-math-inline">$\overline{a_{pk}a_{pk - 1}\cdots a_{(p - 1)k + 1} 00\cdots 0} \equiv (-1) ^ p\overline{a_{pk}a_{pk - 1}\cdots a_{(p - 1)k + 1}}$</span>, 则 <span class="markdown-them-math-inline">$\overline{a_ta_{t - 1}\cdots a_2a_1} \equiv \overline{a_ka_{k - 1}\cdots a_1} - \overline{a_{2k}a_{2k - 1}\cdots a_{k + 1}} + \cdots \pmod n$</span>, 可以使用第三类化简方式.</li>
</ol>
<p>于是想找到 <span class="markdown-them-math-inline">$b$</span> 进制数在模 <span class="markdown-them-math-inline">$n$</span> 意义下的化简方式, 只需要找到最小的 <span class="markdown-them-math-inline">$k$</span> 满足 <span class="markdown-them-math-inline">$b ^ k \equiv 0~\textrm{or}~1~\textrm{or}- 1$</span> 即对应第 <span class="markdown-them-math-inline">$1/2/3$</span> 类化简方式. 若直到 <span class="markdown-them-math-inline">$k$</span> 等于 <span class="markdown-them-math-inline">$b$</span> 的幂在模 <span class="markdown-them-math-inline">$n$</span> 意义下的循环节长度仍未找到满足条件的 <span class="markdown-them-math-inline">$k$</span>, 则 <span class="markdown-them-math-inline">$b$</span> 进制数在模 <span class="markdown-them-math-inline">$n$</span> 意义下不能使用这 <span class="markdown-them-math-inline">$3$</span> 种方式化简.</p>
<p>一种找最小 <span class="markdown-them-math-inline">$k$</span> 的代码实现如下 :</p>
<div class="highlight"><pre class="code"><code><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;

<span class="hljs-keyword">int</span> T, b, n;
unordered_map &lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">bool</span>&gt; vis;

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span> <span class="hljs-params">()</span> </span>&#123;
    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;T); <span class="hljs-keyword">while</span> (T--) &#123;
        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;b, &amp;n), b %= n;
        <span class="hljs-keyword">int</span> a = <span class="hljs-number">0</span>, k = <span class="hljs-number">1</span>, tmp = b;
        <span class="hljs-keyword">while</span> (b != <span class="hljs-number">0</span> &amp;&amp; b != <span class="hljs-number">1</span> &amp;&amp; b != n - <span class="hljs-number">1</span> &amp;&amp; !vis[b]) &#123;
            vis[b] = <span class="hljs-literal">true</span>;
            b = <span class="hljs-number">1ll</span> * b * tmp % n, k++;
        &#125;
        <span class="hljs-keyword">if</span> (b == <span class="hljs-number">0</span>) a = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (b == <span class="hljs-number">1</span>) a = <span class="hljs-number">2</span>;
        <span class="hljs-keyword">if</span> (b == n - <span class="hljs-number">1</span>) a = <span class="hljs-number">3</span>;
        a ? <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;kind = %d, k = %d\n&quot;</span>, a, k) : <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;0&quot;</span>);
        vis.<span class="hljs-built_in">clear</span>();
    &#125;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;
</code></pre></div>

      
    </div>
    <footer class="article-footer">
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="../xin-de-si-kao-yi-lei-bei-xie-si-ding-li-xiang-guan-ji-fen-de-bian-huan-ji-qiao/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">
        
          「新的思考」一类贝叶斯定理相关积分的变换技巧
        
      </div>
    </a>
  
</nav>

  
</article>


</section>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
        <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" /></a><br /><a rel="license" href="https://101001011.github.io/">本网站</a>所有内容采用<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可。
      
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="../../../../index.html" class="mobile-nav-link">Home</a>
  
    <a href="../../../../archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="../../../../js/clipboard.min.js"></script>
<script src="../../../../js/jquery-1.4.3.min.js"></script>

<script src="../../../../fancybox/jquery.fancybox-1.3.4.pack.js"></script>


<script src="../../../../js/script.js"></script>






<script>
  MathJax = {
    options: {
      enableMenu: false
    },
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
    }
  };
</script>
<!-- <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
    CommonHTML: {
      linebreaks: false
    }
  });
  </script> -->
<script type="text/javascript" id="MathJax-script" async
  src="../../../../mathjax/tex-chtml.js">
</script>
<!-- <script type="text/javascript"
   src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_CHTML">
</script> -->



  </div>
</body>
</html>